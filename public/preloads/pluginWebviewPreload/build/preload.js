(()=>{var e={729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function o(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,o,i,s){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,i||e,s),a=n?n+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],c]:e._events[a].push(c):(e._events[a]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),c.prototype.eventNames=function(){var e,o,r=[];if(0===this._eventsCount)return r;for(o in e=this._events)t.call(e,o)&&r.push(n?o.slice(1):o);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=n?n+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,i=o.length,s=new Array(i);r<i;r++)s[r]=o[r].fn;return s},c.prototype.listenerCount=function(e){var t=n?n+e:e,o=this._events[t];return o?o.fn?1:o.length:0},c.prototype.emit=function(e,t,o,r,i,s){var c=n?n+e:e;if(!this._events[c])return!1;var a,l,f=this._events[c],u=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),u){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,o),!0;case 4:return f.fn.call(f.context,t,o,r),!0;case 5:return f.fn.call(f.context,t,o,r,i),!0;case 6:return f.fn.call(f.context,t,o,r,i,s),!0}for(l=1,a=new Array(u-1);l<u;l++)a[l-1]=arguments[l];f.fn.apply(f.context,a)}else{var p,v=f.length;for(l=0;l<v;l++)switch(f[l].once&&this.removeListener(e,f[l].fn,void 0,!0),u){case 1:f[l].fn.call(f[l].context);break;case 2:f[l].fn.call(f[l].context,t);break;case 3:f[l].fn.call(f[l].context,t,o);break;case 4:f[l].fn.call(f[l].context,t,o,r);break;default:if(!a)for(p=1,a=new Array(u-1);p<u;p++)a[p-1]=arguments[p];f[l].fn.apply(f[l].context,a)}}return!0},c.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,o,r){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==t||r&&!c.once||o&&c.context!==o||s(this,i);else{for(var a=0,l=[],f=c.length;a<f;a++)(c[a].fn!==t||r&&!c[a].once||o&&c[a].context!==o)&&l.push(c[a]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c},229:(e,t)=>{var n=0;t=function(e){var t=++n+"";return e?e+t:t},e.exports=t}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(()=>{const e=require,{ipcRenderer:t,contextBridge:o}=e("electron"),r=n(229),{EventEmitter:i}=n(729),s=new i;t.sendToHost("_getSidebarInfo");const c=function(){let e=window.location.search.substring(1).split("&"),t={};return e.map((e=>{let n=e.split("=");t[n[0]]=n[1]})),t}(),a=c.ticket,l=c.webviewId,f=c.windowId;t.on("PLUGINHOST_TO_SIDEBAR_MESSAGE",((e,t)=>{console.log("Receive Message from Host",t),s.emit(t.event,t.data)})),o.exposeInMainWorld("_pendingFunction",{}),o.exposeInMainWorld("saltdog",{init:()=>{window._pendingFunction={},t.on("PLUGINWEBVIEW_INVOKE_CALLBACK",((e,t)=>{t.callbackId&&window._pendingFunction[t.callbackId]&&(window._pendingFunction[t.callbackId](t.data),delete window._pendingFunction[t.callbackId])}))},send:(e,n,o)=>{const i=r();window._pendingFunction[i]=o,t.sendToHost("PLUGINWEBVIEW_IPC",{type:"PLUGINWEBVIEW_INVOKE",channel:e,data:n,ticket:a,webviewId:l,windowId:f,callbackId:i})},on:(e,t)=>{s.on(e,t)}})})()})();
//# sourceMappingURL=preload.js.map